<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="UTF-8">
  <title>Summernote</title>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>
</head>
<body>
<div id="summernote"><p>Hello Summernote</p></div>
<script>
    $(document).ready(function() {
        $('#summernote').summernote({
        placeholder: 'Hello stand alone ui',
        tabsize: 2,
        height: 300,
        toolbar: [
          ['style', ['style']],
          ['font', ['bold', 'underline', 'clear']],
          ['color', ['color']],
          ['para', ['ul', 'ol', 'paragraph']],
          ['table', ['table']],
          ['insert', ['link', 'picture', 'video']],
          ['view', ['fullscreen', 'codeview', 'help']]
        ]
      });
    });

    function saveFileLocally()
      {
          var html = $("#summernote").summernote("code");

           return $.ajax({type: "POST",
              url: "/downloadTextFile?fileContent="+html,
              success: function (data) {
                    //Convert the Byte Data to BLOB object.
                    var blob = new Blob([data], { type: "application/octetstream" });

                    //Check the Browser type and download the File.
                    var isIE = false || !!document.documentMode;
                    if (isIE) {
                        window.navigator.msSaveBlob(blob, "PLACEHOLDER_USE_FUNC_PARAM.rtf");
                    } else {
                        var url = window.URL || window.webkitURL;
                        link = url.createObjectURL(blob);
                        var a = $("<a />");
                        a.attr("download", "PLACEHOLDER_USE_FUNC_PARAM.rtf");
                        a.attr("href", link);
                        $("body").append(a);
                        a[0].click();
                        $("body").remove(a);
                    }
                },
              error:function(result) {
                alert('error');
              }
          });
          };

    function saveFileToCloud()
      {
          var html = $("#summernote").summernote("code");

            $.ajax({type: "POST",
              url: "/saveFileToCloud?fileContent="+html,
              success: function (result) {
              alert('File saved successfully!');
              },
              error:function(result) {
                alert('error');
              }

        });
          };

  </script>
</body>
<button th:onclick="'saveFileLocally();'"  id="button_1"  name="but1">Export text</button>
<button th:onclick="'saveFileToCloud();'"  id="button_2"  name="but2">Save in cloud</button>
</html>